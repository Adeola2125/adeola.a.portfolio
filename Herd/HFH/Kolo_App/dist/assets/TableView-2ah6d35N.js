import{e as O,R as C,a2 as M,a3 as ee,o as w,f as E,w as a,a4 as K,a5 as ae,d as s,b as e,V as d,$ as D,X as te,F as A,C as V,a6 as h,T as B,a7 as U,I as i,a8 as N,O as q,Q as le,r as k,c as j,L as se,a9 as oe,P as I,i as L,k as ne,t as v,aa as re,ab as ue,_ as ie,S as de,h as ce,ac as me,ad as pe,j as fe,m as ve,ae as Ve,af as x,ag as _e,ah as ye}from"./index-iwMIQdrE.js";const Ce=O({__name:"UserForm",props:{user:{}},emits:["form:cancel"],setup(R,{emit:o}){const _=R,y=o,p=C({username:[f=>f?!0:"Username required"]}),n=C({..._.user}),g=M(),u=f=>{f.preventDefault()},S=()=>{y("form:cancel")};return ee(_,()=>{Object.assign(n,_.user)}),(f,r)=>(w(),E(q,{width:"640px"},{default:a(()=>[e(K,{tag:"div"},{default:a(()=>[e(ae,null,{default:a(()=>[s("User Form")]),_:1}),e(d,{icon:"mdi-close",onClick:r[0]||(r[0]=c=>f.$emit("form:cancel"))})]),_:1}),e(D,null,{default:a(()=>[e(te,null,{default:a(()=>[e(A,{class:"d-flex mb-3"},{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(h,{class:"mb-1"},{default:a(()=>[s("Username")]),_:1}),e(B,{modelValue:n.username,"onUpdate:modelValue":r[1]||(r[1]=c=>n.username=c),rules:p.username,variant:"outlined",color:"primary",name:"username"},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12"},{default:a(()=>[e(h,{class:"mb-1"},{default:a(()=>[s("Email")]),_:1}),e(B,{modelValue:n.email,"onUpdate:modelValue":r[2]||(r[2]=c=>n.email=c),rules:p.username,variant:"outlined",color:"primary",name:"email"},null,8,["modelValue","rules"])]),_:1}),e(V,{cols:"12"},{default:a(()=>[e(h,{class:"mb-1"},{default:a(()=>[s("Role")]),_:1}),e(U,{modelValue:n.role,"onUpdate:modelValue":r[3]||(r[3]=c=>n.role=c),items:i(g).roles,variant:"outlined",color:"primary",name:"role"},null,8,["modelValue","items"])]),_:1}),e(V,{cols:"12"},{default:a(()=>[e(h,{class:"mb-1"},{default:a(()=>[s("Status")]),_:1}),e(U,{modelValue:n.status,"onUpdate:modelValue":r[4]||(r[4]=c=>n.status=c),items:i(g).statusOptions,variant:"outlined",color:"primary",name:"status"},null,8,["modelValue","items"])]),_:1})]),_:1})]),_:1})]),_:1}),e(N,null,{default:a(()=>[e(d,{type:"submit",variant:"outlined",color:"primary",onClick:u},{default:a(()=>[s("Submit")]),_:1}),e(d,{onClick:S},{default:a(()=>[s("Cancel")]),_:1})]),_:1})]),_:1}))}}),ge={key:1},be=O({__name:"TableView",setup(R){const{t:o}=le(),_=k(10),y=k(!0),p=k(!1),n=k([]),g=M(),u=C({role:"",status:""}),S=C({page:1,pageSize:10}),f=C({id:0,username:"",company:"",job:"",country:"",city:"",phone:"",email:"",avatar:"",role:"",status:"active"}),r=g.getRoles,c=g.getStatusOptions,z=C([{title:o("avatar"),key:"avatar"},{title:o("username"),key:"username"},{title:o("role"),key:"role"},{title:o("email"),key:"email"},{title:o("status"),key:"status"},{title:o("action"),key:"action"}]),F=k(!0),Q=m=>m?m.split(" ").map(t=>t.charAt(0).toUpperCase()).join(""):"",X=m=>({inactive:"default",active:"success",pendeing:"warn"})[m],b=async()=>{F.value=!0;const m={filter:u,...S},{data:l}=await ye(m);n.value=l,F.value=!1},T=()=>{b()},G=()=>{b()},H=()=>{p.value=!0},J=()=>{console.log("view")},$=m=>{Object.assign(f,m),p.value=!0},W=()=>{console.log("delete")},Y=()=>{u.role="",u.status=""},Z=()=>{u.role="",u.status="",b()};return(m,l)=>(w(),j("section",null,[e(A,null,{default:a(()=>[e(V,{cols:"12"},{default:a(()=>[e(q,null,{default:a(()=>[e(se,{class:"py-0"},{default:a(()=>[e(K,{tag:"div",color:"transparent",flat:""},{default:a(()=>[e(B,{"prepend-icon":y.value?"mdi-filter-variant":"mdi-filter-variant-plus",placeholder:"Type something","hide-details":"",clearable:"",variant:"plain",class:"search",onKeyup:oe(T,["enter"]),"onClick:prepend":l[0]||(l[0]=t=>y.value=!y.value),"onClick:clear":Y},null,8,["prepend-icon"]),e(d,{icon:"",onClick:T,density:"comfortable"},{default:a(()=>[e(I,null,{default:a(()=>[s("mdi-magnify")]),_:1})]),_:1}),e(d,{icon:"",onClick:G,density:"comfortable"},{default:a(()=>[e(I,null,{default:a(()=>[s("mdi-refresh")]),_:1})]),_:1}),e(d,{icon:"",onClick:H,density:"comfortable"},{default:a(()=>[e(I,null,{default:a(()=>[s("mdi-plus")]),_:1})]),_:1})]),_:1})]),_:1}),ue(e(L,{color:"#FBFBFB"},{default:a(()=>[e(D,null,{default:a(()=>[e(A,null,{default:a(()=>[e(V,{cols:4},{default:a(()=>[e(U,{modelValue:u.role,"onUpdate:modelValue":l[1]||(l[1]=t=>u.role=t),items:i(r),label:i(o)("role")},null,8,["modelValue","items","label"])]),_:1}),e(V,{cols:4},{default:a(()=>[e(U,{modelValue:u.status,"onUpdate:modelValue":l[2]||(l[2]=t=>u.status=t),items:i(c),label:i(o)("status")},null,8,["modelValue","items","label"])]),_:1})]),_:1})]),_:1}),e(N,null,{default:a(()=>[e(ne),e(d,{onClick:Z},{default:a(()=>[s(v(i(o)("reset")),1)]),_:1}),e(d,{color:"primary",variant:"outlined",onClick:T},{default:a(()=>[s(v(i(o)("apply")),1)]),_:1})]),_:1})]),_:1},512),[[re,y.value]]),e(D,{class:"pa-0 pb-5"},{default:a(()=>[e(ie),e(de,{headers:z,items:n.value,"items-per-page":_.value,"onUpdate:itemsPerPage":l[3]||(l[3]=t=>_.value=t),loading:F.value,"onUpdate:options":b,hover:"","show-select":""},{"item.avatar":a(({item:t})=>[e(ce,{color:t.avatar?"":"surface-variant",class:"ma-3"},{default:a(()=>[t.avatar?(w(),E(me,{key:0,src:String(t.avatar)},null,8,["src"])):(w(),j("span",ge,v(Q(t.username)),1))]),_:2},1032,["color"])]),"item.status":a(({item:t})=>[e(pe,{color:X(t.status)},{default:a(()=>[s(v(t.status),1)]),_:2},1032,["color"])]),"item.action":a(({item:t})=>[e(d,{variant:"plain",density:"compact",icon:"mdi-pencil-outline",onClick:P=>$(t)},null,8,["onClick"]),e(d,{variant:"plain",density:"compact",icon:"mdi-trash-can-outline"}),e(fe,{"close-on-content-click":!1},{activator:a(({props:P})=>[e(d,ve({variant:"plain",density:"compact",icon:"mdi-dots-vertical"},P),null,16)]),default:a(()=>[e(L,{rounded:"md",width:"200",elevation:"10",class:"mt-2"},{default:a(()=>[e(Ve,{lines:"one",density:"compact",class:"pa-0",color:"primary"},{default:a(()=>[e(x,{onClick:J},{default:a(()=>[s(v(i(o)("view")),1)]),_:1}),e(x,{onClick:$},{default:a(()=>[s(v(i(o)("edit")),1)]),_:1}),e(x,{onClick:W},{default:a(()=>[s(v(i(o)("delete")),1)]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["headers","items","items-per-page","loading"])]),_:1})]),_:1})]),_:1})]),_:1}),e(_e,{modelValue:p.value,"onUpdate:modelValue":l[5]||(l[5]=t=>p.value=t),width:"auto",eager:""},{default:a(()=>[e(Ce,{user:f,"onForm:cancel":l[4]||(l[4]=t=>p.value=!1)},null,8,["user"])]),_:1},8,["modelValue"])]))}});export{be as default};
